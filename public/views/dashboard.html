<!DOCTYPE html>
<html lang="id">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dashboard - Purchasing System</title>
  <link rel="stylesheet" href="/assets/css/all.min.css" type="text/css" />
  <link rel="stylesheet" href="/assets/css/dashboard.css" />
  <link rel="manifest" href="/manifest.json" />
  <meta name="theme-color" content="#0ea5e9" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="default" />
  <meta name="apple-mobile-web-app-title" content="SPA PR" />
</head>

<body>
  <div class="container">
    <header class="header">
      <h1>Menu Utama</h1>
      <div class="header-actions">
        <span id="user-info"></span>
        <button id="logout-btn" class="btn btn-secondary">Logout</button>
      </div>
    </header>

    <main>
      <h2>Purchasing</h2>
      <div class="menu-grid">
        <a href="/pr.html" class="menu-item" id="create-pr-link">
          <div class="menu-icon"><i class="fa-solid fa-file-pen"></i></div>
          <div class="menu-title">Buat PR Baru</div>
          <div class="menu-desc">
            Mengisi form permintaan pembelian barang.
          </div>
        </a>
        <a href="/daftarpr.html" class="menu-item">
          <span id="dashboard-badge" class="dashboard-badge" style="display: none;">0</span>
          <div class="menu-icon"><i class="fa-solid fa-list-check"></i></div>
          <div class="menu-title">Daftar PR</div>
          <div class="menu-desc">
            Lihat semua permintaan Anda dan statusnya.
          </div>
        </a>
      </div>

      <!-- PO (Purchase Order) Section -->
      <div id="po-section">
        <h2 style="margin-top: 30px;">Purchase Order (PO)</h2>
        <div class="menu-grid">
          <a href="/po.html" class="menu-item" id="create-po-link">
            <div class="menu-icon"><i class="fa-solid fa-file-invoice"></i></div>
            <div class="menu-title">Buat PO Baru</div>
            <div class="menu-desc">
              Membuat Purchase Order baru berdasarkan PR yang disetujui.
            </div>
          </a>
          <a href="/daftarpo.html" class="menu-item">
            <span id="po-badge" class="dashboard-badge" style="display: none;">0</span>
            <div class="menu-icon"><i class="fa-solid fa-clipboard-list"></i></div>
            <div class="menu-title">Daftar PO</div>
            <div class="menu-desc">
              Lihat semua Purchase Order dan statusnya.
            </div>
          </a>
        </div>
      </div>
      <!-- Finance / Payment Section -->
      <div id="finance-section">
        <h2 style="margin-top: 30px;">Payment</h2>
        <div class="menu-grid">
          <a href="/buat_tagihan.html" class="menu-item" id="create-payment-link">
            <div class="menu-icon"><i class="fa-solid fa-credit-card"></i></div>
            <div class="menu-title">Buat Payment Baru</div>
            <div class="menu-desc">
              Membuat tagihan pembayaran untuk PO yang sudah diproses.
            </div>
          </a>
          <a href="/daftar_tagihan.html" class="menu-item" id="view-payment-link">
            <span id="invoice-badge" class="dashboard-badge" style="display: none;">0</span>
            <div class="menu-icon"><i class="fa-solid fa-money-check-dollar"></i></div>
            <div class="menu-title">Daftar Payment</div>
            <div class="menu-desc">
              Lihat semua tagihan pembayaran dan statusnya.
            </div>
          </a>
        </div>
      </div>

      <!-- Summary Section for KTU/Manager -->
      <div id="ktu-manager-summary" class="hidden" style="margin-top: 30px;">
        <h2>Rangkuman Analisa PR</h2>
        <div class="menu-grid" style="grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));">
          <div class="menu-item" style="cursor: default;">
            <div class="menu-icon" style="color: #64748b;"><i class="fa-solid fa-file-invoice"></i></div>
            <div class="menu-title" id="summary-total">0</div>
            <div class="menu-desc">Total PR Masuk</div>
          </div>
          <div class="menu-item" style="cursor: default;">
            <div class="menu-icon" style="color: #f59e0b;"><i class="fa-solid fa-clock"></i></div>
            <div class="menu-title" id="summary-pending-ktu">0</div>
            <div class="menu-desc">Pending KTU</div>
          </div>
          <div class="menu-item" style="cursor: default;">
            <div class="menu-icon" style="color: #3b82f6;"><i class="fa-solid fa-user-tie"></i></div>
            <div class="menu-title" id="summary-pending-manager">0</div>
            <div class="menu-desc">Pending Manager</div>
          </div>
          <div class="menu-item" style="cursor: default;">
            <div class="menu-icon" style="color: #10b981;"><i class="fa-solid fa-check-circle"></i></div>
            <div class="menu-title" id="summary-approved">0</div>
            <div class="menu-desc">Fully Approved</div>
          </div>
          <div class="menu-item" style="cursor: default;">
            <div class="menu-icon" style="color: #ef4444;"><i class="fa-solid fa-times-circle"></i></div>
            <div class="menu-title" id="summary-rejected">0</div>
            <div class="menu-desc">Rejected</div>
          </div>
        </div>
      </div>

      <div id="admin-menu-section" class="hidden">
        <h2 style="margin-top: 40px">Administrasi</h2>
        <div class="menu-grid">
          <a href="/laporanpr.html" class="menu-item">
            <div class="menu-icon">
              <i class="fa-solid fa-file-excel"></i>
            </div>
            <div class="menu-title">Laporan Purchasing</div>
            <div class="menu-desc">Laporan PR</div>
          </a>
        </div>
      </div>
    </main>
  </div>
  <script src="/assets/js/pwa.js"></script>
  <script src="/assets/js/dashboard.js"></script>
</body>
<footer style="
      position: fixed;
      left: 0;
      right: 0;
      bottom: 12px;
      text-align: center;
      font: 500 12px/1.4 system-ui, Segoe UI, Roboto, Arial;
      border: 0;
    ">
  Â© by heronimuseri
</footer>

</html>
